// This file is part of Indico.
// Copyright (C) 2002 - 2023 CERN
//
// Indico is free software; you can redistribute it and/or
// modify it under the terms of the MIT License; see the
// LICENSE file for more details.

@use './palette' as *;
@use './defaults' as *;
@use './utilities' as *;

@mixin _indicator-base($top) {
  &::after,
  &::before {
    border-color: transparent;
    content: '';
    top: $top;
    position: absolute;
  }

  &::after {
    margin-top: px(1);
    border-width: px(7);
  }

  &::before {
    border-width: px(8);
  }
}

@mixin _indicator-top-base($background-color, $border-color) {
  &::after,
  &::before {
    border-color: transparent;
    border-style: solid outset solid;
    content: '';
    position: absolute;
    top: px(-15);
  }

  &::after {
    margin-top: px(1);
    border-width: px(7);
    border-bottom-color: $background-color;
  }

  &::before {
    border-width: px(7);
    border-bottom-color: $border-color;
  }
}

@mixin indicator-left(
  $background-color: white,
  $border-color: $default-border-color,
  $top: px(10)
) {
  @include _indicator-base($top);

  &::after,
  &::before {
    border-style: solid solid outset;
    right: 100%;
  }

  &::after {
    border-right-color: $background-color;
    margin-left: px(2);
  }

  &::before {
    border-right-color: $border-color;
  }
}

@mixin indicator-right(
  $background-color: white,
  $border-color: $default-border-color,
  $top: px(10)
) {
  @include _indicator-base($top);

  &::after,
  &::before {
    border-style: solid outset solid;
    left: 100%;
  }

  &::after {
    border-left-color: $background-color;
    margin-right: px(2);
  }

  &::before {
    border-left-color: $border-color;
  }
}

@mixin indicator-top-left(
  $background-color: white,
  $border-color: $default-border-color,
  $left: px(10)
) {
  @include _indicator-top-base($background-color, $border-color);

  &::after,
  &::before {
    left: $left;
  }

  &::after {
    margin-right: px(2);
  }
}

@mixin indicator-top-right(
  $background-color: white,
  $border-color: $default-border-color,
  $right: px(10)
) {
  @include _indicator-top-base($background-color, $border-color);

  &::after,
  &::before {
    right: $right;
  }
}
