// This file is part of Indico.
// Copyright (C) 2002 - 2024 CERN
//
// Indico is free software; you can redistribute it and/or
// modify it under the terms of the MIT License; see the
// LICENSE file for more details.

@use 'design_system';

// Neither ckeditor nor the markdown editor implement the styles shown in their
// preview - they need to be manually implemented.
// These styles apply to the generated output in conference & event description,
// minutes and custom conference pages.

// XXX: even though we removed ckeditor those styles need to stay since e.g. the
// classes are used in existing event notes; and generally the formatting is useful
.editor-output {
  // Image positioning for ckeditor5
  // https://ckeditor.com/docs/ckeditor5/latest/features/images/images-styles.html
  // Inspired by the default ckeditor styles:
  // https://github.com/ckeditor/ckeditor5/blob/06d11a85/packages/ckeditor5-image/theme/imagestyle.css
  @extend %formatted-text-block;
  font-family: sans-serif;
  font-size: 1.143rem; // TODO: fix font sizes globally

  img {
    max-width: 100%;
    width: auto;
    height: auto;
  }

  img[style~='float:'] {
    max-width: 50%;
    margin-top: 0;
    margin-bottom: 0;
  }

  // XXX: floating left style="float: left;"
  img[style~='float:'][style~='left;'] {
    margin-left: 0;
    margin-right: 1em;
  }

  // XXX: floating right style="float: right;"
  img[style~='float:'][style~='right;'] {
    margin-left: 1em;
    margin-right: 0;
  }

  // XXX: centerted image style="display: block; margin-left: auto; margin-right: auto;"
  img[style~='display:'][style~='auto;'] {
    max-width: 66%;
  }

  &.weak-hidden {
    display: none;
  }
}
